@using Microsoft.AspNetCore.Components
@using WMS.Core.Constants.Enum
@using WMS.Core.DTO.PositionDtos
@using WMS.UI.Shared.FormComponents
@using Blazored.Toast.Services
@using WMS.Core.Models.DocumentModels.Units
@inherits BaseDetailViewPopupForm

<DxPopup Width="@(string.IsNullOrWhiteSpace(Width) ? "auto" : Width)"
         @bind-Visible="@IsVisible"
         ShowFooter="true"
         CloseOnEscape="false"
         CloseOnOutsideClick="false"
         ShowCloseButton="true"
         HeaderText="Product"
         CloseButtonClick="@(Close)">
    <HeaderContentTemplate>
        Product @(IsModified ? "*" : "")
    </HeaderContentTemplate>
<BodyContentTemplate Context="BodyContentTemplateContext">
    <DxFormLayout CssClass="w-300 h-100">
            <DxFormLayout CssClass="w-300 h-100">
                <DxFormLayoutGroup Caption="Product Information" ColSpanMd="12">
                    @*<DxFormLayoutItem Caption="Created User UserName:" ColSpanMd="6">
                        <FormInputText @bind-Text="@Model.CreatedUserUserName" />
                    </DxFormLayoutItem>*@
                    <DxFormLayoutItem Caption="Created Date:" ColSpanMd="6">
                        <FormInputDate @bind-Date="@Model.CreatedDate" />
                    </DxFormLayoutItem>
                    <DxFormLayoutItem Caption="Name:" ColSpanMd="6">
                        <FormInputText @bind-Text="@Model.Name" />
                    </DxFormLayoutItem>
                    <DxFormLayoutItem Caption="Unique Code:" ColSpanMd="6">
                        <FormInputText @bind-Text="@Model.UniqueCode" />
                    </DxFormLayoutItem>
                    <DxFormLayoutItem Caption="Item Type:" ColSpanMd="6">
                        <FormLookupEnum TItem="ItemType" @bind-Value="@Model.ItemType" />
                    </DxFormLayoutItem>
                    <DxFormLayoutItem Caption="Description:" ColSpanMd="12">
                        <FormInputText @bind-Text="@Model.Description" />
                    </DxFormLayoutItem>
                    <DxFormLayoutItem Caption="Barcode:" ColSpanMd="6">
                        <FormInputText @bind-Text="@Model.Barcode" />
                    </DxFormLayoutItem>
                    <DxFormLayoutItem Caption="Vendor Code:" ColSpanMd="6">
                        <FormInputText @bind-Text="@Model.VendorCode" />
                    </DxFormLayoutItem>
                    <DxFormLayoutItem Caption="Main Unit Id:" ColSpanMd="6">
                        <DxComboBox Data="@UnitListViewModels"
                                    TextFieldName="@(nameof(UnitDetailViewModel.Name))"
                                    @bind-Value="@UnitListViewModel"
                                    NullText="Empty"
                                    ClearButtonDisplayMode="DataEditorClearButtonDisplayMode.Auto">
                            <ItemTemplate Context="detail">
                                <div>@detail.Name</div>
                            </ItemTemplate>
                        </DxComboBox>
                    </DxFormLayoutItem>
                    <DxFormLayoutItem Caption="Price:" ColSpanMd="6">
                        <DxSpinEdit T="decimal" @bind-Text="@Model.Price" />
                    </DxFormLayoutItem>
                </DxFormLayoutGroup>
            </DxFormLayout>

    </DxFormLayout>
</BodyContentTemplate>
    <FooterContentTemplate>
        <DxButton RenderStyle="ButtonRenderStyle.Primary" Text="Save" Click="SaveObject"/>
        <DxButton RenderStyle="ButtonRenderStyle.Secondary" Text="Cancel" Click="CloseObject"/>
    </FooterContentTemplate>
</DxPopup>